<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’« DummyJSON Explorer - í”„ë¡œë¯¸ìŠ¤ ë§ˆìŠ¤í„°</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%);
            --secondary-gradient: linear-gradient(135deg, #14b8a6 0%, #0ea5e9 100%);
            --card-bg: rgba(30, 41, 59, 0.8);
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
            --radius-lg: 20px;
            --radius-md: 12px;
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background-color: #0f172a;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(99, 102, 241, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(217, 70, 239, 0.2) 0%, transparent 50%);
            color: var(--text-primary);
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: 450px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.3);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-icon {
            font-size: 1.5rem;
        }

        button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px -3px rgba(99, 102, 241, 0.4);
        }

        .spinner {
            width: 30px;
            height: 30px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .item {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #8b5cf6;
            transition: transform 0.2s ease;
        }

        .item:hover {
            transform: translateX(5px);
        }

        .item-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: white;
        }

        .item-body {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .item-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 0.75rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        .badge-error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 1rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .user-name {
            font-weight: 600;
        }

        .user-email {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .error-message {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
            padding: 1rem;
            border-radius: var(--radius-md);
            margin: 1rem 0;
            display: none;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .progress-value {
            height: 100%;
            background: var(--primary-gradient);
            width: 0;
            transition: width 0.5s ease;
        }
        
        .api-explorer {
            background: rgba(30, 41, 59, 0.6);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 2rem;
            backdrop-filter: blur(10px);
        }
        
        .code {
            font-family: 'Fira Code', monospace;
            background: rgba(15, 23, 42, 0.8);
            padding: 1rem;
            border-radius: var(--radius-md);
            overflow-x: auto;
            color: #e2e8f0;
            font-size: 0.9rem;
            margin: 1rem 0;
        }
        
        .highlight {
            color: #d946ef;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ DummyJSON í”„ë¡œë¯¸ìŠ¤ íƒìƒ‰ê¸°</h1>
            <p class="subtitle">í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ê³¼ í”„ë¡œë¯¸ìŠ¤ APIë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ë°ì´í„° ì‹œê°í™”</p>
        </header>
        
        <div class="dashboard">
            <!-- ì‚¬ìš©ì ì¹´ë“œ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ‘¤ ì‚¬ìš©ì</h2>
                    <button id="loadUsers">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                </div>
                <div id="users-spinner" class="spinner"></div>
                <div id="users-error" class="error-message"></div>
                <div id="users-container"></div>
            </div>
            
            <!-- í¬ìŠ¤íŠ¸ ì¹´ë“œ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ“ í¬ìŠ¤íŠ¸</h2>
                    <button id="loadPosts">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                </div>
                <div id="posts-spinner" class="spinner"></div>
                <div id="posts-error" class="error-message"></div>
                <div id="posts-container"></div>
            </div>
            
            <!-- í• ì¼ ì¹´ë“œ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">âœ… í• ì¼ ëª©ë¡</h2>
                    <button id="loadTodos">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                </div>
                <div id="todos-spinner" class="spinner"></div>
                <div id="todos-error" class="error-message"></div>
                <div id="todos-container"></div>
            </div>
        </div>
        
        <div class="api-explorer">
            <h2>âš¡ í”„ë¡œë¯¸ìŠ¤ API íƒìƒ‰ê¸°</h2>
            <button id="explorePromiseAPI">ëª¨ë“  ë°ì´í„° ë™ì‹œì— ë¡œë“œ</button>
            <div id="api-spinner" class="spinner"></div>
            <div id="api-error" class="error-message"></div>
            <div class="progress-bar">
                <div id="api-progress" class="progress-value"></div>
            </div>
            <div id="api-results"></div>
            <div class="code">
                <pre><span class="highlight">// Promise.all ì‚¬ìš© ì˜ˆì‹œ</span>
Promise.all([
  fetch('https://dummyjson.com/users').then(res => res.json()),
  fetch('https://dummyjson.com/posts').then(res => res.json()),
  fetch('https://dummyjson.com/todos').then(res => res.json())
])
.then(([users, posts, todos]) => {
  console.log('ëª¨ë“  API í˜¸ì¶œ ì™„ë£Œ!');
})
.catch(error => console.error('ì—ëŸ¬ ë°œìƒ:', error));</pre>
            </div>
        </div>
    </div>

    <script>
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function showSpinner(id) {
            document.getElementById(`${id}-spinner`).style.display = 'block';
        }
        
        function hideSpinner(id) {
            document.getElementById(`${id}-spinner`).style.display = 'none';
        }
        
        function showError(id, message) {
            const errorEl = document.getElementById(`${id}-error`);
            errorEl.textContent = message;
            errorEl.style.display = 'block';
        }
        
        function hideError(id) {
            document.getElementById(`${id}-error`).style.display = 'none';
        }
        
        // ì‚¬ìš©ì ë¡œë“œ - í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ ì˜ˆì‹œ
        document.getElementById('loadUsers').addEventListener('click', function() {
            const containerId = 'users';
            showSpinner(containerId);
            hideError(containerId);
            
            // í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ ì˜ˆì‹œ - ì‚¬ìš©ì ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
            fetch('https://dummyjson.com/users?limit=5')
                .then(response => {
                    if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì—ëŸ¬');
                    return response.json();
                })
                .then(data => {
                    // ì²« ë²ˆì§¸ ì‚¬ìš©ìì˜ ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                    const firstUserId = data.users[0].id;
                    return Promise.all([
                        data,
                        fetch(`https://dummyjson.com/users/${firstUserId}`).then(res => res.json())
                    ]);
                })
                .then(([allUsers, firstUserDetail]) => {
                    renderUsers(allUsers.users, firstUserDetail);
                    hideSpinner(containerId);
                })
                .catch(error => {
                    console.error('Error:', error);
                    showError(containerId, `ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`);
                    hideSpinner(containerId);
                });
        });
        
        // í¬ìŠ¤íŠ¸ ë¡œë“œ
        document.getElementById('loadPosts').addEventListener('click', function() {
            const containerId = 'posts';
            showSpinner(containerId);
            hideError(containerId);
            
            // í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ - í¬ìŠ¤íŠ¸ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° í›„ ì‘ì„±ì ì •ë³´ ì¶”ê°€
            fetch('https://dummyjson.com/posts?limit=5')
                .then(response => {
                    if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì—ëŸ¬');
                    return response.json();
                })
                .then(postsData => {
                    // ê° í¬ìŠ¤íŠ¸ì˜ ì‘ì„±ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ í”„ë¡œë¯¸ìŠ¤ ë°°ì—´ ìƒì„±
                    const authorPromises = postsData.posts.map(post => 
                        fetch(`https://dummyjson.com/users/${post.userId}`).then(res => res.json())
                    );
                    
                    // í¬ìŠ¤íŠ¸ ë°ì´í„°ì™€ ì‘ì„±ì ì •ë³´ë¥¼ í•¨ê»˜ ë°˜í™˜
                    return Promise.all([postsData, Promise.all(authorPromises)]);
                })
                .then(([postsData, authors]) => {
                    // í¬ìŠ¤íŠ¸ ë°ì´í„°ì— ì‘ì„±ì ì •ë³´ í•©ì¹˜ê¸°
                    const postsWithAuthors = postsData.posts.map((post, index) => ({
                        ...post,
                        author: authors[index]
                    }));
                    
                    renderPosts(postsWithAuthors);
                    hideSpinner(containerId);
                })
                .catch(error => {
                    console.error('Error:', error);
                    showError(containerId, `ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`);
                    hideSpinner(containerId);
                });
        });
        
        // í• ì¼ ë¡œë“œ
        document.getElementById('loadTodos').addEventListener('click', function() {
            const containerId = 'todos';
            showSpinner(containerId);
            hideError(containerId);
            
            // íƒ€ì„ì•„ì›ƒì´ ìˆëŠ” í”„ë¡œë¯¸ìŠ¤ ë ˆì´ìŠ¤ ì˜ˆì‹œ
            Promise.race([
                fetch('https://dummyjson.com/todos?limit=8').then(res => res.json()),
                new Promise((_, reject) => setTimeout(() => reject(new Error('ìš”ì²­ ì‹œê°„ ì´ˆê³¼')), 5000))
            ])
                .then(data => {
                    renderTodos(data.todos);
                    hideSpinner(containerId);
                })
                .catch(error => {
                    console.error('Error:', error);
                    showError(containerId, `ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`);
                    hideSpinner(containerId);
                });
        });
        
        // í”„ë¡œë¯¸ìŠ¤ API íƒìƒ‰ê¸° - ëª¨ë“  ë°ì´í„° ë™ì‹œì— ë¡œë“œ
        document.getElementById('explorePromiseAPI').addEventListener('click', function() {
            const containerId = 'api';
            showSpinner(containerId);
            hideError(containerId);
            document.getElementById('api-progress').style.width = '0%';
            document.getElementById('api-results').innerHTML = '';
            
            // 3ê°œì˜ API ìš”ì²­ì„ Promise.allë¡œ ë™ì‹œì— ì²˜ë¦¬
            const startTime = performance.now();
            
            // ì§„í–‰ìƒí™©ì„ ì¶”ì í•˜ê¸° ìœ„í•œ ì¹´ìš´í„°
            let completedRequests = 0;
            const totalRequests = 3;
            
            // ê° ìš”ì²­ì— ì§„í–‰ìƒí™© ì—…ë°ì´íŠ¸ ë¡œì§ ì¶”ê°€
            function trackProgress() {
                completedRequests++;
                const progress = (completedRequests / totalRequests) * 100;
                document.getElementById('api-progress').style.width = `${progress}%`;
            }
            
            Promise.all([
                fetch('https://dummyjson.com/users?limit=3')
                    .then(res => res.json())
                    .then(data => {
                        trackProgress();
                        return data;
                    }),
                fetch('https://dummyjson.com/posts?limit=3')
                    .then(res => res.json())
                    .then(data => {
                        trackProgress();
                        return data;
                    }),
                fetch('https://dummyjson.com/todos?limit=3')
                    .then(res => res.json())
                    .then(data => {
                        trackProgress();
                        return data;
                    })
            ])
                .then(([users, posts, todos]) => {
                    const endTime = performance.now();
                    const duration = ((endTime - startTime) / 1000).toFixed(2);
                    
                    document.getElementById('api-results').innerHTML = `
                        <div class="item">
                            <div class="item-title">âœ… ë³‘ë ¬ API í˜¸ì¶œ ì„±ê³µ</div>
                            <div class="item-body">
                                <p>3ê°œì˜ APIë¥¼ ë™ì‹œì— í˜¸ì¶œí•˜ì—¬ ${duration}ì´ˆë§Œì— ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.</p>
                                <p>ì‚¬ìš©ì: ${users.total}, í¬ìŠ¤íŠ¸: ${posts.total}, í• ì¼: ${todos.total}</p>
                            </div>
                        </div>
                    `;
                    hideSpinner(containerId);
                })
                .catch(error => {
                    console.error('Error:', error);
                    showError(containerId, `ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`);
                    hideSpinner(containerId);
                });
        });
        
        // ë Œë”ë§ í•¨ìˆ˜ë“¤
        function renderUsers(users, firstUserDetail) {
            const container = document.getElementById('users-container');
            
            // ìƒì„¸ ì •ë³´ê°€ ìˆëŠ” ì²« ë²ˆì§¸ ì‚¬ìš©ì í‘œì‹œ
            let html = `
                <div class="item" style="border-left-color: #d946ef;">
                    <div class="user-info">
                        <div class="user-avatar">${firstUserDetail.firstName.charAt(0)}${firstUserDetail.lastName.charAt(0)}</div>
                        <div>
                            <div class="user-name">${firstUserDetail.firstName} ${firstUserDetail.lastName}</div>
                            <div class="user-email">${firstUserDetail.email}</div>
                        </div>
                    </div>
                    <div class="item-body">
                        <p>ğŸ  ${firstUserDetail.address.address}, ${firstUserDetail.address.city}</p>
                        <p>ğŸ“± ${firstUserDetail.phone}</p>
                    </div>
                    <div class="item-meta">
                        <span>íšŒì‚¬: ${firstUserDetail.company.name}</span>
                        <span class="badge badge-success">${firstUserDetail.gender}</span>
                    </div>
                </div>
            `;
            
            // ë‚˜ë¨¸ì§€ ì‚¬ìš©ì í‘œì‹œ
            users.slice(1).forEach(user => {
                html += `
                    <div class="item">
                        <div class="user-info">
                            <div class="user-avatar">${user.firstName.charAt(0)}${user.lastName.charAt(0)}</div>
                            <div>
                                <div class="user-name">${user.firstName} ${user.lastName}</div>
                                <div class="user-email">${user.email}</div>
                            </div>
                        </div>
                        <div class="item-meta">
                            <span>ë‚˜ì´: ${user.age}ì„¸</span>
                            <span class="badge badge-${user.gender === 'male' ? 'success' : 'warning'}">${user.gender}</span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function renderPosts(posts) {
            const container = document.getElementById('posts-container');
            
            let html = '';
            posts.forEach(post => {
                html += `
                    <div class="item">
                        <div class="item-title">${post.title}</div>
                        <div class="item-body">${post.body.substring(0, 100)}...</div>
                        <div class="item-meta">
                            <span>ì‘ì„±ì: ${post.author.firstName} ${post.author.lastName}</span>
                            <span>íƒœê·¸: ${post.tags.slice(0, 2).join(', ')}</span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function renderTodos(todos) {
            const container = document.getElementById('todos-container');
            
            let html = '';
            todos.forEach(todo => {
                html += `
                    <div class="item">
                        <div class="item-title">
                            ${todo.completed ? 
                              '<span style="text-decoration: line-through;">' + todo.todo + '</span>' : 
                              todo.todo
                            }
                        </div>
                        <div class="item-meta">
                            <span>ì‚¬ìš©ì ID: ${todo.userId}</span>
                            <span class="badge badge-${todo.completed ? 'success' : 'warning'}">
                                ${todo.completed ? 'ì™„ë£Œ' : 'ì§„í–‰ì¤‘'}
                            </span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
    </script>
</body>
</html>
